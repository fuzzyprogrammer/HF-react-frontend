(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[24],{2102:function(e,a,t){"use strict";t.r(a);var n=t(57),s=t.n(n),l=t(98),m=t(19),c=t(1),i=t.n(c),r=t(40),o=t(20),u=t.n(o),d=t(1415),h=t(1210),p=t(1278),b=t(1209),E=t(526),f=t(1274),g=t(1152),v=t(109),j=t(114);a.default=()=>{const e=Object(c.useState)([]),a=Object(m.a)(e,2),t=a[0],n=a[1],o=Object(c.useState)([]),x=Object(m.a)(o,2),N=x[0],O=x[1],S=Object(c.useState)(),k=Object(m.a)(S,2),w=k[0],y=k[1];let U=Object(r.i)().slug,C=parseInt(U);Object(c.useEffect)((()=>{function e(){return(e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("api/hfUsers/".concat(C)).then((e=>{y(e.data[0])})).catch((e=>{console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C]),Object(c.useEffect)((()=>{u.a.get("/api/hfJamaths").then((({data:e})=>{n(e)})).catch((e=>{console.log(e)})),u.a.get("/api/hfRoles").then((({data:e})=>{console.log(e),O(e)})).catch((e=>{console.log(e)}))}),[]);const _={name:w?w.name:"",email:w?w.email:"",role_id:w?w.role_id:"",jamath_id:w?w.jamath_id:""},J=function(){var e=Object(l.a)(s.a.mark((function e(a,{isSubmitting:t}){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),!w){e.next=7;break}return a.id=w.id,e.next=5,u.a.put("api/hfUsers/".concat(w.id),a).then((function(e){e&&j.a.push("/pages/jamath-user-list")})).catch((function(e){console.log(e)}));case 5:e.next=9;break;case 7:return e.next=9,u.a.post("api/hfUsers",a).then((function(e){e&&j.a.push("/pages/jamath-user-list")})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),z=()=>j.a.push("/pages/jamath-user-list");return i.a.createElement("div",{className:"m-sm-30"},i.a.createElement("div",{className:"mb-sm-30"},i.a.createElement(v.b,{routeSegments:[{name:"Pages",path:"/pages"},{name:"New User"}]})),i.a.createElement(h.a,{elevation:3},i.a.createElement("div",{className:"flex p-4"},i.a.createElement("h4",{className:"m-0"},"Add a New Jamath User")),i.a.createElement(p.a,{className:"mb-2"}),i.a.createElement(d.b,{initialValues:_,onSubmit:J,onClick:z,enableReinitialize:!0},(({values:e,errors:a,touched:n,handleChange:s,handleBlur:l,handleSubmit:m,isSubmitting:c,setSubmitting:r,setFieldValue:o})=>i.a.createElement("form",{className:"p-4",onSubmit:m},i.a.createElement(b.a,{container:!0,spacing:3,alignItems:"center"},i.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"User Name"),i.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},i.a.createElement(E.a,{label:"Full Name",name:"name",size:"small",variant:"outlined",value:e.name,onChange:s})),i.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"User Email"),i.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},i.a.createElement(E.a,{label:"User Email",name:"email",size:"small",type:"email",variant:"outlined",value:e.email,onChange:s})),i.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"Jamath"),i.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},i.a.createElement(E.a,{className:"min-w-208",label:"Jamath",name:"jamath_id",size:"small",variant:"outlined",select:!0,value:e.jamath_id||"",onChange:s},t.map((e=>i.a.createElement(f.a,{value:e.id,key:e.id},e.name))))),i.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"Role"),i.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},i.a.createElement(E.a,{className:"min-w-208",label:"Role",name:"role_id",size:"small",variant:"outlined",select:!0,value:e.role_id||"",onChange:s},N.map((e=>i.a.createElement(f.a,{value:e.id,key:e.id},e.name)))))),i.a.createElement("div",{className:"mt-6"},i.a.createElement(g.a,{color:"primary",variant:"contained",type:"submit"},w?"Update":"Submit"),i.a.createElement(g.a,{className:"ml-5",color:"secondary",variant:"contained",type:"cancel",onClick:z},"Cancel")))))))}}}]);