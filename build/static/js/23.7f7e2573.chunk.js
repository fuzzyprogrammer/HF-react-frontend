(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[23],{2104:function(e,a,t){"use strict";t.r(a);var n=t(57),s=t.n(n),c=t(98),m=t(19),i=t(1),r=t.n(i),l=t(40),u=t(20),o=t.n(u),h=t(1415),p=t(1210),d=t(1278),b=t(1209),f=t(526),E=t(1274),g=t(1152),v=t(109),x=t(114);a.default=()=>{let e=Object(l.i)().slug,a=parseInt(e);const t=Object(i.useState)([]),n=Object(m.a)(t,2),u=n[0],N=n[1],j=Object(i.useState)(),S=Object(m.a)(j,2),k=S[0],w=S[1];Object(i.useEffect)((()=>{function e(){return(e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("api/hfJamaths/".concat(a)).then((e=>{w(e.data[0])})).catch((e=>{console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(i.useEffect)((()=>{o.a.get("/api/hfUsers").then((({data:e})=>{N(e)}))}),[]),console.log(k);const J={name:k?k.name:"",user_id:k?k.user_id:""},O=function(){var e=Object(c.a)(s.a.mark((function e(a,{isSubmitting:t}){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=6;break}return a.id=k.id,e.next=4,o.a.put("api/hfJamaths/".concat(k.id),a).then((function(e){200===e.status&&x.a.push("/pages/jamath-list")})).catch((function(e){console.log(e)}));case 4:e.next=8;break;case 6:return e.next=8,o.a.post("api/hfJamaths",a).then((function(e){200===e.status&&x.a.push("/pages/jamath-list")})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),y=()=>x.a.push("/pages/jamath-list");return r.a.createElement("div",{className:"m-sm-30"},r.a.createElement("div",{className:"mb-sm-30"},r.a.createElement(v.b,{routeSegments:[{name:"Pages",path:"/pages"},{name:"New Jamath"}]})),r.a.createElement(p.a,{elevation:3},r.a.createElement("div",{className:"flex p-4"},r.a.createElement("h4",{className:"m-0"},"Add a New Jamath")),r.a.createElement(d.a,{className:"mb-2"}),r.a.createElement(h.b,{initialValues:J,onSubmit:O,onClick:y,enableReinitialize:!0},(({values:e,errors:a,touched:t,handleChange:n,handleBlur:s,handleSubmit:c,isSubmitting:m,setSubmitting:i,setFieldValue:l})=>r.a.createElement("form",{className:"p-4",onSubmit:c},r.a.createElement(b.a,{container:!0,spacing:3,alignItems:"center"},r.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"Jamath Name"),r.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},r.a.createElement(f.a,{label:"Jamath Name",name:"name",size:"small",variant:"outlined",value:e.name,onChange:n})),r.a.createElement(b.a,{item:!0,md:2,sm:4,xs:12},"User"),r.a.createElement(b.a,{item:!0,md:10,sm:8,xs:12},r.a.createElement(f.a,{className:"min-w-208",label:"User",name:"user_id",size:"small",variant:"outlined",select:!0,value:e.user_id||"",onChange:n},u.map((e=>r.a.createElement(E.a,{value:e.id,key:e.id},e.name)))))),r.a.createElement("div",{className:"mt-6"},r.a.createElement(g.a,{color:"primary",variant:"contained",type:"submit"},k?"Update":"Submit"),r.a.createElement(g.a,{className:"ml-5",color:"secondary",variant:"contained",type:"cancel",onClick:y},"Cancel")))))))}}}]);