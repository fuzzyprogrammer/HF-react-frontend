(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[89],{1619:function(e,a){},2122:function(e,a,t){"use strict";t.r(a);var l=t(19),n=t(1),r=t.n(n),c=t(109),m=t(1449),s=t(1451),o=t(1450),i=t(1607),E=t.n(i),u=t(1154),d=t(558),b=t(1183),p=t(1363),h=t(1274),x=t(2053),f=t(113);var j=({messageList:e,handleCheckboxSelection:a})=>{const t=Object(n.useState)(!1),i=Object(l.a)(t,2),j=i[0],N=i[1];return r.a.createElement("div",{className:"mx-1 mb-1"},e.map(((e,t)=>r.a.createElement(m.a,{key:e.id,expanded:j===t,elevation:3},r.a.createElement(o.a,{className:"p-0 pl-2 pr-6"},r.a.createElement("div",{className:"flex items-center w-full px-2"},j!==t&&r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{checked:e.selected,onChange:e=>a(e,t),color:"secondary"}),r.a.createElement(d.a,null,r.a.createElement(b.a,null,"star_border"))),r.a.createElement("div",{className:"flex flex-grow items-center justify-between h-full",onClick:()=>(e=>{N(e!==j&&e)})(t)},j===t&&r.a.createElement("div",{className:"flex items-center ml-3"},r.a.createElement(p.a,{src:e.sender.photo}),r.a.createElement("div",{className:"ml-2"},r.a.createElement("h5",{className:"mb-0 ml-1 font-normal"},e.sender.name),r.a.createElement("small",{className:"text-muted"},Object(x.a)(new Date(e.date).getTime(),"MMMM dd, yyyy")))),j!==t&&r.a.createElement("h5",{className:"mb-0 ml-1 text-14 text-muted font-normal"},e.sender.name),r.a.createElement("p",{className:"m-0"},e.subject),r.a.createElement("small",{className:"text-muted"},Object(f.d)(new Date(e.date))," ago")),r.a.createElement(c.n,{menuButton:r.a.createElement(d.a,null,r.a.createElement(b.a,null,"more_vert"))},r.a.createElement(h.a,{className:"flex items-center"},r.a.createElement(b.a,{className:"mr-4"},"reply")," Reply"),r.a.createElement(h.a,{className:"flex items-center"},r.a.createElement(b.a,{className:"mr-4"},"archive")," Archive"),r.a.createElement(h.a,{className:"flex items-center"},r.a.createElement(b.a,{className:"mr-4"},"delete")," Delete")))),r.a.createElement(s.a,null,r.a.createElement("div",null,E()(e.message)))))))},N=t(1152),v=t(1404),g=t(1435),y=t(1293),O=t(1278),C=t(7),w=t(1207),k=t(1381),S=t(63);var M=({open:e,handleClose:a})=>{const t=Object(n.useState)({to:"",subject:"",content:"",attachment:null}),m=Object(l.a)(t,2),s=m[0],o=m[1],i=e=>{e.persist(),o(Object(C.a)(Object(C.a)({},s),{},{[e.target.name]:e.target.value}))};let E=s.to,u=s.subject,p=s.content,h=s.attachment;return r.a.createElement(w.a,{open:e,onClose:a,maxWidth:"md",fullWidth:!0},r.a.createElement("div",{className:"p-6"},r.a.createElement(S.ValidatorForm,{onSubmit:e=>{},onError:e=>null},r.a.createElement(S.TextValidator,{className:"mb-4 w-full",label:"To",onChange:i,type:"email",name:"to",value:E,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),r.a.createElement(S.TextValidator,{className:"mb-4 w-full",label:"Subject",onChange:i,type:"text",name:"subject",value:u,validators:["required"],errorMessages:["this field is required"]}),r.a.createElement(c.y,{content:p,handleContentChange:e=>{o(Object(C.a)(Object(C.a)({},s),{},{content:e}))},placeholder:"insert text here..."}),r.a.createElement("div",{className:"mt-4 flex flex-wrap justify-between"},r.a.createElement(N.a,{onClick:a},"Cancel"),r.a.createElement("div",{className:"flex items-center"},h&&r.a.createElement("p",{className:"mr-6"},h.name),r.a.createElement("label",{htmlFor:"attachment"},r.a.createElement(d.a,{className:"mr-2",component:"span"},r.a.createElement(b.a,null,"attachment"))),r.a.createElement("input",{onChange:e=>{o(Object(C.a)(Object(C.a)({},s),{},{attachment:e.target.files[0]}))},className:"hidden",id:"attachment",type:"file"}),r.a.createElement(k.a,{size:"medium",color:"secondary",type:"submit"},r.a.createElement(b.a,null,"send")))))))};var T=()=>{const e=r.a.useState(!1),a=Object(l.a)(e,2),t=a[0],n=a[1];return r.a.createElement("div",{className:"mr-4 bg-default"},r.a.createElement(N.a,{onClick:()=>n(!0),variant:"contained",className:"py-2 bg-error w-full"},"Compose"),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"inbox")),r.a.createElement(y.a,{primary:"Inbox"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"folder_special")),r.a.createElement(y.a,{primary:"Starred"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"send")),r.a.createElement(y.a,{primary:"Sent"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"inbox")),r.a.createElement(y.a,{primary:"Inbox"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"error")),r.a.createElement(y.a,{primary:"Spam"})),r.a.createElement(O.a,null),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"primary"},"people")),r.a.createElement(y.a,{primary:"Social"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"secondary"},"local_offer")),r.a.createElement(y.a,{primary:"Promotions"})),r.a.createElement(v.a,{button:!0},r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"secondary"},"forums")),r.a.createElement(y.a,{primary:"Forums"})),r.a.createElement(M,{open:t,handleClose:()=>{n(!1)}}))},_=t(4),q=t(1213),F=t(1153),R=t(1151),D=t(5);const L=Object(R.a)((e=>{e.palette,Object(_.a)(e,["palette"]);return{topbar:{borderTopRightRadius:4,borderTopLeftRadius:4}}}));var V=({toggleSidenav:e,handleMasterCheckbox:a,masterCheckbox:t})=>{const l=L();return r.a.createElement("div",{className:Object(D.default)("py-1 mx-1 flex items-center relative bg-primary",l.topbar)},r.a.createElement(q.a,{smUp:!0},r.a.createElement(d.a,{className:"text-white",onClick:e},r.a.createElement(b.a,null,"short_text"))),r.a.createElement(F.a,{className:"text-white ml-4",control:r.a.createElement(u.a,{checked:t,onChange:a,color:"secondary"}),label:"All"}),r.a.createElement(d.a,null,r.a.createElement(b.a,{className:"text-white"},"delete")),r.a.createElement(d.a,null,r.a.createElement(b.a,{className:"text-white"},"folder_special")),r.a.createElement(d.a,null,r.a.createElement(b.a,{className:"text-white"},"archive")),r.a.createElement(d.a,null,r.a.createElement(b.a,{className:"text-white"},"error")))},A=t(20),I=t.n(A);var J=t(1115),W=t(48);a.default=()=>{const e=Object(n.useState)(!0),a=Object(l.a)(e,2),t=a[0],m=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],E=o[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),b=d[0],p=d[1],h=Object(n.useState)([]),x=Object(l.a)(h,2),f=x[0],N=x[1],v=Object(W.a)(),g=Object(J.a)(v.breakpoints.down("sm")),y=()=>{E(!i)};return Object(n.useEffect)((()=>{g&&E(!1)}),[g]),Object(n.useEffect)((()=>{I.a.get("/api/inbox/all").then((({data:e})=>{t&&N(e)}))}),[t]),Object(n.useEffect)((()=>()=>m(!1)),[]),r.a.createElement("div",{className:"flex m-sm-30"},r.a.createElement("div",{className:"w-full"},r.a.createElement(c.r,null,r.a.createElement(c.q,{width:"220px",toggleSidenav:y,open:i},r.a.createElement(T,null)),r.a.createElement(c.s,null,r.a.createElement(V,{masterCheckbox:b,handleMasterCheckbox:e=>{let a=f,t=e.target.checked;t?a.map((e=>(e.selected=!0,e))):a.map((e=>(e.selected=!1,e))),N(a),p(t)},toggleSidenav:y}),r.a.createElement(j,{handleCheckboxSelection:(e,a)=>{e.persist();let t=f;t[a].selected=e.target.checked,N([...t])},messageList:f})))))}}}]);